##矿机机器人使用手册

### 1.注册

访问https://t.me/<BOT> 链接，点击 /start 即可开始使用.

### 2.使用

基本使用为 目的+线名，比如 **离线 i** *离线*表示查询新增*离线 i* 表示查询 _i_ 线的新增

#### a, 算力查询与接受推送

算力查询接受中文字符'**算力**'或者英文单词'**hashrate**' 不区分大小写但是不能有空格，使用方法为在聊天界面输入 '**算力**' 或者 '**hashrate**'即可。返回值为 2 个，一个是包含所线的名称，实际算力，理论算力，当前离线数量和相比上次离线数量变动。

> [["Sample-E","100P","100P.46P","offline:11","change:0"],["Sample-H","100P.45P","100P.26P","offline:45","change:0"],["Sample-I","100P.23P","100P.87P","offline:197","change:-2"],["Sample-J","100P.47P","100P.37P","offline:44","change:0"],["Sample-K-East","100P.75P","100P.13P","offline:68","change:0"]]

另外一个是近 10 次的离线数量值。方便观察离线的变动
![CC5nt.jpeg](https://i.328888.xyz/2023/01/10/CC5nt.jpeg)

#### b, 0 算力诊断

0 算力诊断使用方法为 **0 算力<线名>** 比如 _0 算力 i_ 返回值为一个包含当前线的所有 0 算力 ip 和诊断出来的问题的 xls 格式文件，无法诊断的矿机会标明 _can not detect_
![CliFL.jpeg](https://i.328888.xyz/2023/01/10/CliFL.jpeg)
**over temp pls check the fans** 表示机器高温

> 诊断结果支持

    风扇问题，
    电源问题，
    高温问题，
    温感问题。

#### c, 新增离线 ip 查询

新增离线 ip 查询使用方法为**离线<线名>** 比如*离线 i* 返回值为包含了所有新增离线的 ip 列表的 txt 和一个包含同样内容的 excel 文件

> ['10.6.10.87', '10.6.70.62']

![CllYQ.jpeg](https://i.328888.xyz/2023/01/10/CllYQ.jpeg)

#### d,运维结果查询

批量输入 ip 列表即可获取 ip 运维结果
例如输入

> 10.7.12.31
> 10.7.13.106
> 10.7.14.114
> 10.7.14.116
> 10.7.14.126

返回一个包含当前 ip 列表处理结果的 excel 文件

### 3.维护

##### a Bot 运行维护

> bot 运行在**kaihua.xie** 当前使用的工作电脑*Thinkpad X270* 上，请勿关机。如果出现异常关机的情况，请联系 **shuhan.dong** 开启

##### b 登录 cookie，header 运行维护

> cookie 和 header 为登录 miner-plus 所必须，当前使用的账号为 **kaihua.xie@syncunit.io** 登录，请勿使用这个账号登录。如果出现 cookie 和 header 过期的情况，请联系 **zq**或者**shuhan.dong**更新

##### c VPN 运行维护

> 0 算力诊断和运维结果查询都需要开启 VPN，如果长期没返回结果或者所有结果为 error，则表示 VPN 断开，请重连

##### d 离线矿机维护

离线矿机维护指令类似运维结果查询

> +10.7.12.31
> 10.7.13.106
> 10.7.14.114
> 10.7.14.116
> 10.7.14.126
> 表示新增上述 ip 列表到数据库中
> **请在卸空矿机，并且断开网络连接之后使用**

> -10.7.12.31
> 10.7.13.106
> 10.7.14.114
> 10.7.14.116
> 10.7.14.126
> 表示将上述 ip 列表从数据库中移除
> **请在安装算力板，并且恢复网络连接之后使用**
